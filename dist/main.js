(()=>{var e={622:(e,t,n)=>{e.exports="function"==typeof Array.from?Array.from:n(486)},486:e=>{var t,n,i,r,a,s;e.exports=(t=function(e){return"function"==typeof e},n=Math.pow(2,53)-1,i=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),n)},r=function(e){if(null!=e){if(["string","number","boolean","symbol"].indexOf(typeof e)>-1)return Symbol.iterator;if("undefined"!=typeof Symbol&&"iterator"in Symbol&&Symbol.iterator in e)return Symbol.iterator;if("@@iterator"in e)return"@@iterator"}},a=function(e,n){if(null!=e&&null!=n){var i=e[n];if(null==i)return;if(!t(i))throw new TypeError(i+" is not a function");return i}},s=function(e){var t=e.next();return!Boolean(t.done)&&t},function(e){"use strict";var n,o,d,l=this,c=arguments.length>1?arguments[1]:void 0;if(void 0!==c){if(!t(c))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(n=arguments[2])}var p=a(e,r(e));if(void 0!==p){o=t(l)?Object(new l):[];var m,u,h=p.call(e);if(null==h)throw new TypeError("Array.from requires an array-like or iterable object");for(d=0;;){if(!(m=s(h)))return o.length=d,o;u=m.value,o[d]=c?c.call(n,u,d):u,d++}}else{var f=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var y,g=i(f.length);for(o=t(l)?Object(new l(g)):new Array(g),d=0;d<g;)y=f[d],o[d]=c?c.call(n,y,d):y,d++;o.length=g}return o})},44:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(645),r=n.n(i)()((function(e){return e[1]}));r.push([e.id,'html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,menu,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,main,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block}*[hidden]{display:none}body{line-height:1}menu,ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}table{border-collapse:collapse;border-spacing:0}.times-create{grid-column:3/span 2;grid-row:1/span 1}@media only screen and (max-width: 900px){.times-create{grid-column-end:unset;grid-row-end:unset;margin-bottom:20px}}.times-create form input{margin:0 5px 10px}@media only screen and (max-width: 600px){.times-create form input{margin:0 0 10px}}.times-create form input:first-of-type{margin-left:0}.times-create form input:last-of-type{margin-right:0}.users-create{display:block;grid-column:1/span 2;grid-row:1/span 1}@media only screen and (max-width: 900px){.users-create{grid-column:unset;grid-row:unset;margin-bottom:20px}}.users-create form input{margin:0 5px 10px}@media only screen and (max-width: 600px){.users-create form input{margin:0 0 10px;width:100%}}.users-create form input:first-of-type{margin-left:0}.users-create form input:last-of-type{margin-right:0}.users-display{grid-column:1/span 2;grid-row:2/span 2;display:flex;flex-wrap:wrap;overflow-y:auto}@media only screen and (max-width: 900px){.users-display{grid-column-start:unset;grid-column-end:unset;grid-row-start:unset;grid-row-end:unset;margin-bottom:20px;max-height:600px}}@media only screen and (max-width: 600px){.users-display{max-height:400px}}.users-display form select[name=findBy]{margin-right:5px}@media only screen and (max-width: 600px){.users-display form select[name=findBy]{margin-right:0}}.users-display form input[name=searchKey]{margin-left:5px}@media only screen and (max-width: 600px){.users-display form input[name=searchKey]{margin-left:0}}.users-display__content{width:100%;display:flex;flex-wrap:wrap;align-items:flex-start}.users-display__item{display:flex;width:100%;justify-items:stretch;margin-bottom:10px;box-shadow:none;border:1px solid #dcdcdc}@media only screen and (max-width: 600px){.users-display__item{flex-wrap:wrap}}.users-display__item__content{min-width:66.6666%;padding-right:20px}@media only screen and (max-width: 600px){.users-display__item__content{min-width:100%;padding-right:0}}.users-display__item__content h2{font-size:40px;margin-top:8px;margin-bottom:8px}@media only screen and (max-width: 600px){.users-display__item__content h2{font-size:24px}}.users-display__item__content p{font-size:20px;font-family:"IBM Plex Sans",sans-serif;color:#c8c8c8}@media only screen and (max-width: 600px){.users-display__item__content p{font-size:16px}}.users-display__item__content p.times-entries{color:#505050;margin-top:16px}@media only screen and (max-width: 600px){.users-display__item__content p.times-entries{font-size:12px}}.users-display__item__content p.times-entries span{color:blue}.users-display__item__cta{min-width:33.3333%}@media only screen and (max-width: 600px){.users-display__item__cta{min-width:100%;padding-top:20px;display:flex;flex-wrap:wrap}}.users-display__filters{width:100%;margin-bottom:20px}.times-display{display:block;grid-column:3/span 2;grid-row:2/span 2;overflow-y:auto}@media only screen and (max-width: 900px){.times-display{grid-column-end:unset;grid-row-end:unset;margin-bottom:20px}}.times-display__content section{border-top:1px solid #dcdcdc;padding:0;border-radius:0;padding-top:20px;box-shadow:none}.times-display__content section h2{font-size:40px;margin-top:8px;margin-bottom:8px}@media only screen and (max-width: 600px){.times-display__content section h2{font-size:24px}}.times-display__content section h3{margin-top:20px;border:1px solid red;color:red;border-radius:4px;text-align:center;font-family:"IBM Plex Sans",sans-serif;background:rgba(255,0,0,.2);padding:10px;font-size:40px;display:block}@media only screen and (max-width: 600px){.times-display__content section h3{font-size:24px}}.times-display__content section p{font-size:20px;font-family:"IBM Plex Sans",sans-serif;color:#c8c8c8}@media only screen and (max-width: 600px){.times-display__content section p{font-size:16px}}.times-display__item__cta{padding-top:20px}.times-display__item__content{padding:15px 0 10px;border-bottom:1px solid #dcdcdc}.times-display__item__content:last-of-type{border-bottom:none}.times-display__item__content p.times-duration{color:#505050;margin-top:16px}.times-display__item__content p.times-duration span{color:blue}.times-display__diagram{padding-bottom:40px}.times-display__diagram.hidden{display:none}html{font-size:62.5%}body{background:#f6f6f6;padding:8vh 20px 0;overflow-x:hidden}*{box-sizing:border-box;font-size:16px}header{font-size:30px;font-family:"IBM Plex",sans-serif;font-weight:200;display:block;position:fixed;top:0;right:0;left:0;padding:15px 20px;background:blue;color:#fff;text-align:center;z-index:9999}@media only screen and (max-width: 900px){header{font-size:14px}}header b{font-weight:400;text-decoration:underline}main{display:grid;grid-column-gap:30px;grid-row-gap:30px;grid-template-columns:1fr 1fr 1fr 1fr;grid-template-rows:28vh 28vh 28vh}@media only screen and (max-width: 900px){main{display:block;grid-column-gap:0;grid-row-gap:0;grid-template-columns:unset;grid-template-rows:unset}}section{box-shadow:0 0 10px #b4b4b4;background:#fff;position:relative;padding:10px;border-radius:4px}fieldset{display:flex;flex-wrap:nowrap}@media only screen and (max-width: 600px){fieldset{flex-wrap:wrap}}input[type=submit],button{font-family:"IBM Plex Mono",monospace;background:blue;color:#fff;appearance:none;border:none;padding:10px 20px;border-radius:3px;font-weight:300;display:block;margin-bottom:10px;justify-self:stretch;width:100%}@media only screen and (max-width: 600px){input[type=submit],button{font-size:12px}}button.secondary{background:#dcdcdc;color:#505050}label{width:100%}input,select{font-family:"IBM Plex Mono",monospace;appearance:none;border:none;font-size:14px;padding:10px 20px;border-radius:4px;font-weight:300;display:block;width:100%;margin-bottom:10px;color:#505050;border:1px solid #505050}@media only screen and (max-width: 600px){input,select{font-size:12px}}input:read-only{color:#c8c8c8}input::placeholder{color:#505050}h2{font-size:24px;font-family:"IBM Plex Sans",sans-serif;margin-bottom:20px;line-height:1.3}small{background:#f0f0f0;padding:4px 6px;border-radius:4px;color:#505050;font-size:12px;line-height:1.3;font-family:"IBM Plex Mono",monospace}',""]);const a=r},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(r[s]=!0)}for(var o=0;o<e.length;o++){var d=[].concat(e[o]);i&&r[d[0]]||(n&&(d[2]?d[2]="".concat(n," and ").concat(d[2]):d[2]=n),t.push(d))}},t}},379:(e,t,n)=>{"use strict";var i,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function o(e,t){for(var n={},i=[],r=0;r<e.length;r++){var o=e[r],d=t.base?o[0]+t.base:o[0],l=n[d]||0,c="".concat(d," ").concat(l);n[d]=l+1;var p=s(c),m={css:o[1],media:o[2],sourceMap:o[3]};-1!==p?(a[p].references++,a[p].updater(m)):a.push({identifier:c,updater:f(m,t),references:1}),i.push(c)}return i}function d(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var a=n.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var s=r(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var l,c=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function p(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=c(t,r);else{var a=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function m(e,t,n){var i=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var u=null,h=0;function f(e,t){var n,i,r;if(t.singleton){var a=h++;n=u||(u=d(t)),i=p.bind(null,n,a,!1),r=p.bind(null,n,a,!0)}else n=d(t),i=m.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=s(n[i]);a[r].references--}for(var d=o(e,t),l=0;l<n.length;l++){var c=s(n[l]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=d}}}}},t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={id:i,exports:{}};return e[i](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(622),t=n.n(e),i=n(379),r=n.n(i),a=n(44);r()(a.Z,{insert:"head",singleton:!1}),a.Z.locals;const s="https://morning-harbor-70967.herokuapp.com/",o=function(e,t){const n=new CustomEvent(e,{detail:t});window.dispatchEvent(n)},d=class{constructor(e={}){this.element=e.element,this.form=this.element.querySelector("form")}init(){console.log("---- Users Create Init ----"),this.initForm()}initForm(){this.form.addEventListener("submit",(e=>{e.preventDefault();let t=new FormData(this.form);fetch("https://morning-harbor-70967.herokuapp.com/users",{method:"POST",body:t}).then((e=>e.json())).then((e=>this.triggerUserCreateSuccess(e))).catch((e=>this.triggerUserCreateError(e)))}))}triggerUserCreateSuccess(e){o("user-creation-success",{})}triggerUserCreateError(e){console.error(e),o("user-creation-error",{})}},l=class{static getTemplate(e,t=null){return(t||document).querySelector(`[data-template-name="${e}"]`).innerHTML}},c=function(e,t,n){return n||""===n?e.replace(`~${t}~`,n):e},p=function e(t,n){if(!t)return;if(NodeList.prototype.isPrototypeOf(t)||Array.prototype.isPrototypeOf(t))return void arrayFrom(t).forEach((t=>e(t,n)));const i=(t.getAttribute("class")||"").split(" ").filter(Boolean).filter((e=>e!==n));i.push(n),t.setAttribute("class",i.join(" "))},m=class{constructor(e={}){this.element=e.element,this.content=this.element.querySelector(".users-display__content"),this.sort=this.element.querySelector('[name="sort"]'),this.searchForm=this.element.querySelector("form#search-form"),this.reset=this.element.querySelector(".users-display__reset")}init(){console.log("---- Users Display Init ----"),this.initEvents(),this.fetchData()}initEvents(){window.addEventListener("user-creation-success",(()=>this.fetchData())),window.addEventListener("times-creation-success",(()=>this.fetchData())),this.sort.addEventListener("change",(e=>{e.preventDefault(),this.sortData(e.target.value)})),this.searchForm.addEventListener("submit",(e=>{e.preventDefault();const t=new FormData(this.searchForm);this.searchData(t)})),this.reset.addEventListener("click",(()=>{this.fetchData()}))}fetchData(){fetch(`${s}users`).then((e=>e.json())).then((e=>{this.initialData=e.data,this.renderData(this.initialData)})).catch((e=>this.renderError(e)))}renderData(e){e.length>0?(this.clearContent(),this.data=this.initialData,e.forEach((e=>{const t=document.createElement("section");p(t,"users-display__item"),this.template=l.getTemplate("users-display-item"),this.template=c(this.template,"FirstName",e.first_name),this.template=c(this.template,"LastName",e.last_name),this.template=c(this.template,"Mail",e.email),this.template=c(this.template,"ID",e.id),t.insertAdjacentHTML("beforeend",this.template),fetch(`${s}users/${e.id}/times`).then((e=>e.json())).then((e=>{let n="";e.data.length>0&&(n=1===e.data.length?`There is <span>${e.data.length}</span> Entry for Times.`:`There are <span>${e.data.length}</span> Entries for Times.`),t.querySelector("p.times-entries").innerHTML=n})).catch((e=>console.error(e))),t.querySelector(".users-display__item__show-entry").addEventListener("click",(()=>{o("user-selected",{id:e.id})})),t.querySelector(".users-display__item__create-entry").addEventListener("click",(()=>{o("times-create-new",{id:e.id})})),this.content.appendChild(t)}))):(this.clearContent(),this.data=this.initialData,this.content.insertAdjacentHTML("beforeend","<h3>No data to show</h3>"))}renderError(e){console.error("RENDER ERROR: ",e)}clearContent(){this.content.innerHTML=""}sortData(e){this.sortBy=e||"",this.data.length>0&&(this.data=this.data.sort(((e,t)=>e[this.sortBy].localeCompare(t[this.sortBy]))),this.renderData(this.data))}searchData(e){this.initialData.length>0&&(this.data=this.initialData.filter((t=>t[e.get("findBy")].search(e.get("searchKey"))>-1&&t)),this.sortBy?this.sortData(this.sortBy):this.renderData(this.data))}},u=function e(t,n){if(!t)return;if(NodeList.prototype.isPrototypeOf(t)||Array.prototype.isPrototypeOf(t))return void arrayFrom(t).forEach((t=>e(t,n)));const i=(t.getAttribute("class")||"").split(" ").filter(Boolean).filter((e=>e!==n));t.setAttribute("class",i.join(" "))},h=class{constructor(e={}){this.element=e.element,this.content=this.element.querySelector(".times-display__content"),this.diagram=this.element.querySelector(".times-display__diagram")}init(){console.log("---- Times Display Init ----"),this.clearContent(),this.initEvents()}clearContent(){this.diagram.innerHTML="",this.content.innerHTML=""}initEvents(){window.addEventListener("user-selected",(e=>{this.selectItem(e.detail.id)})),window.addEventListener("times-creation-success",(()=>this.clearContent()))}selectItem(e){fetch(`${s}users/${e}`).then((e=>e.json())).then((e=>this.showData(e.data))).catch((e=>console.error(e)))}showData(e){this.clearContent();const t=document.createElement("section"),n=document.createElement("div");p(n,"times-display__item__description"),n.innerHTML=`\n      <small>${e.id}</small>\n      <h2>Data of ${e.first_name} ${e.last_name}</h2>\n      <p>E-Mail: ${e.email}</p>\n    `,t.appendChild(n);const i=document.createElement("div");p(i,"times-display__item__cta");const r=document.createElement("button");r.value="Create New Time Entry",r.innerText="Create New Time Entry",r.addEventListener("click",(()=>{o("times-create-new",{id:e.id})})),i.appendChild(r),t.appendChild(i),fetch(`${s}users/${e.id}/times`).then((e=>e.json())).then((e=>{if(e.data.length>0){const n={datasets:[{data:[],backgroundColor:[]}],labels:[]};e.data.forEach((e=>{t.insertAdjacentHTML("beforeend",this.renderTimesEntry(e));const i=new Date(e.start),r=new Date(e.end),a=Math.abs(r-i),s=0!==Math.ceil(a/864e5)?Math.ceil(a/864e5):1;n.datasets[0].data.push(s),n.labels.push(`${s.toString()} Day/s`)}));for(let t=0;t<e.data.length;t+=1)n.datasets[0].backgroundColor.push(`hsl(240, 100%, ${100/e.data.length*t}%)`);const i=document.createElement("canvas");this.diagram.appendChild(i),u(this.diagram,"hidden"),new Chart(i.getContext("2d"),{type:"doughnut",data:n,options:{cutoutPercentage:80}})}else p(this.diagram,"hidden"),t.insertAdjacentHTML("beforeend","<h3>Man, this guy is lazy!</h3>")})).catch((e=>console.error(e))),this.content.appendChild(t)}renderTimesEntry(e){return this.template=l.getTemplate("times-display-item"),this.template=c(this.template,"ID",e.id),this.template=c(this.template,"Start",`<span>${e.start}</span>`),this.template=c(this.template,"End",`<span>${e.end}</span>`),this.template}},f=class{constructor(e={}){this.element=e.element,this.form=this.element.querySelector("form#times-create-form")}init(){console.log("---- Times Create Init ----"),this.initEvents()}initEvents(){window.addEventListener("times-create-new",(e=>{this.fillForm(e.detail.id)})),this.form.addEventListener("submit",(e=>{e.preventDefault();let t=new FormData(this.form);fetch(`${s}/users/${t.get("uid")}/times`,{method:"POST",body:t}).then((e=>e.json())).then((e=>this.triggerTimesCreateSuccess(e))).catch((e=>this.triggerTimesCreateError(e)))}))}fillForm(e){this.form.querySelector('[name="uid"]').value=e,this.form.querySelector('[name="uid"]').focus()}triggerTimesCreateSuccess(e){o("times-creation-success",{})}triggerTimesCreateError(e){console.error(e),o("times-creation-error",{})}};document.addEventListener("DOMContentLoaded",(()=>{(()=>{const e=(()=>{const e={UsersCreate:d,UsersDisplay:m,TimesDisplay:h,TimesCreate:f};return Object.assign({},e)})(),n=document.querySelectorAll("[data-module]");window.initializedModuleInstances=t()(n).map((t=>{const n=t.getAttribute("data-module");try{if(""!==n){const i=new e[n]({element:t});return i.init(),i}return null}catch(e){return console.error(`error initializing module instance with class "${n}"`),console.error(e),null}}))})()}))})()})();